(function(t){function e(e){for(var i,s,c=e[0],o=e[1],l=e[2],d=0,p=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&p.push(n[s][0]),n[s]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],i=!0,c=1;c<a.length;c++){var o=a[c];0!==n[o]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var i={},n={app:0},r=[];function s(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=i,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/overture-frontend/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"025e":function(t,e,a){a("99af"),a("4de4"),a("b0c0"),a("b64b"),a("159b"),t.exports={toLocaleDateTimeString:function(t){var e=new Date(t);return"".concat(e.toLocaleDateString()," ").concat(e.toLocaleTimeString("it-IT"))},pagered:function(t,e,a){return t.filter((function(t,i){return i>=e*(a-1)&&i<=e*a-1}))},categoryStatistics:function(t,e){var a={num:{},which:{}};e.forEach((function(t){void 0===a.num[t.categoryName]?a.num[t.categoryName]=1:a.num[t.categoryName]+=1,void 0===a.which[t.categoryName]&&(a.which[t.categoryName]=[]),a.which[t.categoryName].push(t.title)}));var i=[];return Object.keys(t).forEach((function(e){i.push({id:t[e].id,name:t[e].name,count:a.num[t[e].name]||0,articles:a.which[t[e].name]})})),i}}},"1aed":function(t,e,a){},"1d0d":function(t,e,a){},"21cc":function(t,e,a){"use strict";var i=a("1aed"),n=a.n(i);n.a},2377:function(t,e,a){"use strict";var i=a("46d5"),n=a.n(i);n.a},"2a7d":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-button",{attrs:{type:t.type,size:t.size},on:{click:function(e){return t.$emit("click")}}},[t._v(t._s(t.label)+" ")])},n=[],r={props:{label:{type:String,default:"確認"},type:{type:String,default:"primary"},size:{type:String,default:"mini"}},data:function(){return{}}},s=r,c=a("2877"),o=Object(c["a"])(s,i,n,!1,null,"52e989da",null);e["default"]=o.exports},3336:function(t,e,a){},"46d5":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("d3b7"),a("5319"),a("1276"),a("159b"),a("ddb0"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=a("5c96"),r=a.n(n),s=a("8c4f"),c=a("dbdc"),o=a.n(c);i["default"].use(s["a"]);var l=a("5dea").default,u=a("90fc").default,d=a("e946").default,p=a("fdc6").default,f=a("5c68").default,g=a("b601").default,h=a("d35f").default,m=o.a.auth(),v=function(t,e,a){var i=m.onAuthStateChanged((function(t){t?(a(),i()):(alert("請先登入 !"),window.location.href="/index")}))},b=new s["a"]({mode:"hash",routes:[{path:"/index",component:l},{path:"/blogpost/article/:articleId",component:u},{path:"/auth",component:d},{path:"/dashboard",component:p,beforeEnter:function(t,e,a){v(t,e,a)},children:[{path:"article",component:f},{path:"category",component:g},{path:"comment",component:h}]},{path:"/",component:l}]}),y=a("2f62"),_=a("bc3a"),w=a.n(_),O=o.a.auth();i["default"].use(y["a"]);var C="https://overture-blog.herokuapp.com",j={namespaced:!0,state:{articles:[]},actions:{loadArticles:function(t){var e=t.state;w()({url:"".concat(C,"/article")}).then((function(t){e.articles=t.data}))},createArticle:function(t,e){return new Promise((function(t,a){w()({method:"post",url:"".concat(C,"/article"),data:{userAccount:O.currentUser.email,title:e.title,content:e.content,categoryId:e.categoryId,status:e.status,heroImageBase64:e.heroImageBase64,timestamp:(new Date).getTime()}}).then((function(e){t(e)})).catch((function(t){a(t.response)}))}))},updateArticle:function(t,e){return new Promise((function(t,a){w()({method:"put",url:"".concat(C,"/article/update"),data:{userAccount:O.currentUser.email,title:e.title,content:e.content,categoryId:e.categoryId,articleId:e.articleId,status:e.status,heroImageBase64:e.heroImageBase64,timestamp:(new Date).getTime()}}).then((function(e){t(e)})).catch((function(t){a(t.response)}))}))},deleteArticle:function(t,e){return new Promise((function(t,a){w()({method:"delete",url:"".concat(C,"/article/delete"),data:{userAccount:O.currentUser.email,id:e}}).then((function(e){t(e)})).catch((function(t){a(t.response)}))}))}}},k={namespaced:!0,state:{categories:[]},actions:{getCategories:function(t){var e=t.state;w()({url:"".concat(C,"/category")}).then((function(t){e.categories=t.data}))},createCategory:function(t,e){t.state;return new Promise((function(t,a){w()({method:"post",url:"".concat(C,"/category"),data:{userAccount:O.currentUser.email,name:e}}).then((function(e){t(e)})).catch((function(t){a(t.response)}))}))},deleteCategory:function(t,e){t.state;return new Promise((function(t,a){w()({method:"delete",url:"".concat(C,"/category/delete"),data:{userAccount:O.currentUser.email,categoryId:e}}).then((function(e){t(e)})).catch((function(t){a(t.response)}))}))},renameCategory:function(t,e){t.state;return new Promise((function(t,a){w()({method:"put",url:"".concat(C,"/category/rename"),data:{userAccount:O.currentUser.email,categoryId:e.categoryId,categoryName:e.newName}}).then((function(e){t(e)})).catch((function(t){a(t.response)}))}))}}},S={namespaced:!0},D={namespaced:!0,state:{currentUser:null,apiMsg:{}},actions:{register:function(t,e){t.state;var a=e.email,i=e.password;O.createUserWithEmailAndPassword(a,i).then((function(t){})).catch((function(t){}))},signin:function(t,e){var a=t.state,i=e.email,n=e.password;return new Promise((function(t,e){O.signInWithEmailAndPassword(i,n).then((function(e){a.currentUser=e.user,t(e)})).catch((function(t){e(t)}))}))},signout:function(t){var e=t.state;O.signOut().then((function(){e.apiMsg={code:"auth/logout-success",message:"已登出。"},e.currentUser=null})).catch((function(t){e.apiMsg=t}))}}},A={namespaced:!0},$={namespaced:!0,state:{articlesPerPage:2}},P=new y["a"].Store({modules:{article:j,category:k,comment:S,auth:D,ckEditor:A,other:$}}),x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},E=[],I={name:"app",components:{},mounted:function(){}},U=I,M=(a("90ed"),a("2877")),T=Object(M["a"])(U,x,E,!1,null,"4e78f18a",null),N=T.exports;a("c018"),a("9357"),a("d01b");i["default"].use(r.a);var B=a("6809");B.keys().forEach((function(t){var e=B(t),a=t.replace(".vue","").split("/"),n=a[a.length-1];i["default"].component(n,e.default||e)})),i["default"].config.productionTip=!1;var L=o.a.auth();L.onAuthStateChanged((function(t){t&&(P.state.auth.currentUser=t)})),new i["default"]({router:b,store:P,render:function(t){return t(N)}}).$mount("#app")},"5b22":function(t,e,a){"use strict";var i=a("6707"),n=a.n(i);n.a},"5b88":function(t,e,a){},"5c68":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"header"},[a("p",[t._v("文章列表")]),a("el-button",{attrs:{size:"mini",type:"primary",round:""},on:{click:t.resetEditor}},[t._v("新增")])],1),a("DashboardArticleCards",{attrs:{articles:t.articles,isShowCurrentEditing:t.isUpdate},on:{onUpdateArticle:t.onEmitUpdateArticle,onDeleteArticle:t.onDeleteArticle}})],1),a("el-col",{staticStyle:{"padding-bottom":"20px"},attrs:{span:14}},[a("div",{staticClass:"header"},[a("p",[t._v(t._s(t.isUpdate?"更新文章":"新增文章"))]),a("div",{staticClass:"header__right"},[a("el-switch",{attrs:{"active-text":"自動儲存",disabled:"public"===t.editorData.status},model:{value:t.isEditorAutoSave,callback:function(e){t.isEditorAutoSave=e},expression:"isEditorAutoSave"}})],1)]),a("div",{staticClass:"article__editor__wrapper"},[a("el-form",{attrs:{"label-position":"left","label-width":"80px"}},[a("el-form-item",{attrs:{label:"文章標題"}},[a("el-input",{attrs:{label:"title",maxlength:"40","show-word-limit":""},model:{value:t.editorData.title,callback:function(e){t.$set(t.editorData,"title",e)},expression:"editorData.title"}})],1)],1),a("el-form",{attrs:{"label-position":"left","label-width":"80px",inline:""}},[a("el-form-item",{attrs:{label:"文章分類"}},[a("el-select",{attrs:{placeholder:"文章分類"},model:{value:t.editorData.categoryId,callback:function(e){t.$set(t.editorData,"categoryId",e)},expression:"editorData.categoryId"}},t._l(t.categories,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"文章狀態"}},[a("el-select",{attrs:{placeholder:"狀態"},model:{value:t.editorData.status,callback:function(e){t.$set(t.editorData,"status",e)},expression:"editorData.status"}},[a("el-option",{key:"draft",attrs:{label:"草稿",value:"draft"}}),a("el-option",{key:"public",attrs:{label:"公開",value:"public"}})],1)],1),a("el-form-item",{staticClass:"hero-image-form-item",attrs:{label:"文章首圖"}},[a("input",{attrs:{type:"file",id:"hero-image-input",hidden:""},on:{change:t.onSelectFile}}),a("label",{staticClass:"hero-image-input-label",attrs:{for:"hero-image-input"}},[t._v("選擇檔案")]),a("el-button",{attrs:{type:"text",disabled:!t.editorData.heroImageBase64},on:{click:function(e){t.isShowHeroImagePop=!0}}},[t._v("查看首圖")])],1)],1),a("ckeditor",{attrs:{editor:t.editor,config:t.editorConfig},model:{value:t.editorData.content,callback:function(e){t.$set(t.editorData,"content",e)},expression:"editorData.content"}}),a("div",{staticClass:"article-editer-action-bar"},[a("p",{staticClass:"text"},[t._v(t._s(t.isEditorAutoSave?t.autoSaveStatusText:""))]),a("el-button",{attrs:{size:"mini",type:"primary",disabled:t.isEditorAutoSave},on:{click:t.onClickUpdateOrCreateArticle}},[t._v(" "+t._s(t.isUpdate?"更新":"新增")+" ")])],1)],1),a("el-dialog",{attrs:{title:"文章首圖",visible:t.isShowHeroImagePop,width:"30%"},on:{"update:visible":function(e){t.isShowHeroImagePop=e}}},[a("img",{staticClass:"hero-image",attrs:{src:t.editorData.heroImageBase64}})])],1)],1)},n=[],r=(a("d3b7"),a("159b"),a("fb3d")),s=a.n(r),c=a("3730"),o=a.n(c),l={components:{ckeditor:o.a.component},data:function(){return{isUpdate:!1,isShowHeroImagePop:!1,autoSaveStatusText:"...等待中",isEditorAutoSave:!1,editor:s.a,editorData:{title:"",content:"",categoryId:"",articleId:"",status:"draft",heroImageBase64:""},editorConfig:{toolbar:["heading","|","bold","italic","link","bulletedList","numberedList","blockQuote"]},timer:[]}},methods:{onSelectFile:function(t){var e=this,a=t.target.files[0];new Promise((function(t){var e=new FileReader;e.readAsDataURL(a),e.onload=function(){t(e.result)}})).then((function(t){e.editorData.heroImageBase64=t}))},loadArticles:function(){this.$store.dispatch("article/loadArticles")},onEmitUpdateArticle:function(t){this.isUpdate=!0,this.editorData.title=t.title,this.editorData.content=t.content,this.editorData.categoryId=t.categoryId,this.editorData.articleId=t.id,this.editorData.status=t.status,this.editorData.heroImageBase64=t.heroImageBase64},onClickUpdateOrCreateArticle:function(){this.checkArticleForm()?this.isUpdate?this.updateArticle():this.createArticle():this.$message({message:"名稱、分類、內容為必填",type:"warning"})},updateArticle:function(){var t=this;this.$store.dispatch("article/updateArticle",this.editorData).then((function(){t.isEditorAutoSave?(t.autoSaveStatusText="文章已儲存 : )",setTimeout((function(){t.autoSaveStatusText="...等待中"}),5e3)):t.$message({message:"您更新了文章：".concat(t.editorData.title),type:"success"}),t.loadArticles()})).catch((function(e){t.$message({message:e.data.message,type:"warning"})}))},createArticle:function(){var t=this;this.$store.dispatch("article/createArticle",this.editorData).then((function(){t.$message({message:"您新增了文章：".concat(t.editorData.title),type:"success"}),t.resetEditor(),t.loadArticles()})).catch((function(e){t.$message({message:e.data.message,type:"warning"})}))},onDeleteArticle:function(t){var e=this;this.$confirm("確定刪除「".concat(t.title,"」？"),"提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$store.dispatch("article/deleteArticle",t.id).then((function(){e.$message({type:"success",message:"删除成功!"}),e.$store.dispatch("article/loadArticles")})).catch((function(t){e.$message({message:t.data.message,type:"warning"})}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},checkArticleForm:function(){var t=this.editorData;return!!(t.title&&t.content&&t.categoryId)},resetEditor:function(){this.isUpdate=!1,this.editorData.content="",this.editorData.title="",this.editorData.content="",this.editorData.categoryId="",this.editorData.heroImageBase64=""}},watch:{"editorData.status":{immediate:!1,handler:function(t){"draft"===t&&(this.isEditorAutoSave=!0),"public"===t&&(this.isEditorAutoSave=!1)}},isEditorAutoSave:{immediate:!0,handler:function(t){var e=this;t?0===this.timer.length&&this.timer.push(setInterval((function(){e.autoSaveStatusText="...文章儲存中",e.updateArticle()}),1e4)):(this.timer.forEach((function(t){clearInterval(t)})),this.timer=[])}}},computed:{articles:function(){return this.$store.state.article.articles},categories:function(){var t=this.$store.state.category.categories;return t}},mounted:function(){this.loadArticles(),this.$store.dispatch("category/getCategories")}},u=l,d=(a("e717"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,"9414aeca",null);e["default"]=p.exports},"5dea":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index__warpper"},[a("BlogpostNavMenu"),a("main",{staticClass:"body"},[a("div",{staticClass:"content"},[a("el-row",{attrs:{gutter:40}},[a("el-col",{staticClass:"articles-area",attrs:{span:17}},[a("el-pagination",{attrs:{layout:"prev, pager, next",total:t.displayedArticle.length,"hide-on-single-page":!1,"current-page":t.cp,"page-size":t.app,small:""},on:{"update:currentPage":function(e){t.cp=e},"update:current-page":function(e){t.cp=e}}}),a("section",{staticClass:"el-cards__wrapper"},t._l(t.pageredArticles(t.displayedArticle,t.app,t.cp),(function(e){return a("el-card",{key:e.id,staticClass:"article__item",attrs:{"body-style":{padding:"0px"}},nativeOn:{click:function(a){return t.onClickArticle(e.id)}}},[a("div",{staticClass:"article__image",style:{"background-image":"url('"+e.heroImageBase64+"')"}},[a("img",{directives:[{name:"show",rawName:"v-show",value:!e.heroImageBase64,expression:"!a.heroImageBase64"}],attrs:{src:"https://picsum.photos/id/835/400/400"}})]),a("div",{staticClass:"article__body"},[a("div",{staticClass:"article__body__title"},[t._v(t._s(e.title))]),a("span",{staticClass:"category"},[t._v(t._s(e.categoryName))]),a("time",{staticClass:"time"},[t._v(t._s(t.toLocaleDateTimeString(e.timestamp)))]),a("el-button",{attrs:{type:"text"}},[t._v("More...")])],1)])})),1)],1),a("el-col",{staticClass:"metadata-area",attrs:{span:7}},[a("section",{staticClass:"metadata-area-section"},[a("p",{staticClass:"title"},[t._v("文章分類")]),t._l(t.categoryStatistics(t.categories,t.articles),(function(e){return a("el-tag",{key:e.id,attrs:{effect:t.activatedCategories.includes(e.id)?"dark":"light"},on:{click:function(a){return t.toggleCategory(e.id)}}},[t._v(" "+t._s(e.name)+" ("+t._s(e.count)+") ")])}))],2)])],1)],1)])],1)},n=[],r=(a("a4d3"),a("4de4"),a("caad"),a("c975"),a("a434"),a("e439"),a("dbb4"),a("b64b"),a("2532"),a("159b"),a("ade3")),s=a("2f62"),c=a("025e"),o=a.n(c);function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={data:function(){return{cp:1,app:4,activatedCategories:["-LwD2YYmoTQaJ8dw5dsE"]}},methods:{toLocaleDateTimeString:o.a.toLocaleDateTimeString,pageredArticles:o.a.pagered,categoryStatistics:o.a.categoryStatistics,loadCategories:function(){this.$store.dispatch("category/getCategories")},loadArticles:function(){this.$store.dispatch("article/loadArticles")},onClickArticle:function(t){this.$router.push({path:"/blogpost/article/".concat(t)})},toggleCategory:function(t){if(this.activatedCategories.includes(t)){var e=this.activatedCategories.indexOf(t);this.activatedCategories.splice(e,1)}else this.activatedCategories.push(t)}},computed:u({},Object(s["b"])({categories:function(t){return t.category.categories}}),{articles:function(){return this.$store.state.article.articles.filter((function(t){return"public"===t.status}))},displayedArticle:function(){var t=this;return this.articles.filter((function(e){return t.activatedCategories.includes(e.categoryId)}))}}),mounted:function(){this.loadCategories(),this.loadArticles()}},p=d,f=(a("a073"),a("2877")),g=Object(f["a"])(p,i,n,!1,null,"7b632a16",null);e["default"]=g.exports},"5eaf":function(t,e,a){"use strict";var i=a("a9f1"),n=a.n(i);n.a},6707:function(t,e,a){},6809:function(t,e,a){var i={"./BlogpostNavMenu.vue":"7e84","./Button.vue":"2a7d","./DashboardArticleCards.vue":"c9c0","./DashboardNavMenu.vue":"a6f3"};function n(t){var e=r(t);return a(e)}function r(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=r,t.exports=n,n.id="6809"},"75b7":function(t,e,a){},"7e84":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"nav"},[a("h1",{staticClass:"logo__wrapper"},[a("router-link",{attrs:{tag:"span",to:"/index"}},[a("h1",{staticClass:"logo-main"},[t._v("OVERTURE")])]),a("p",{staticClass:"logo-slogan"},[t._v("Murmurs about web and life.")])],1),a("div",{staticClass:"nav__item__wrapper"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isSignedIn,expression:"isSignedIn"}],staticClass:"nav__item"},[a("router-link",{staticClass:"link",attrs:{to:"/dashboard/article"}},[t._v(" "+t._s(t.currenentUserEmail)+" ")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isSignedIn,expression:"isSignedIn"}],staticClass:"nav__item"},[a("a",{staticClass:"link",on:{click:t.onSignOut}},[t._v(" 登出 ")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isSignedIn,expression:"!isSignedIn"}],staticClass:"nav__item"},[a("router-link",{staticClass:"link",attrs:{to:"/auth"}},[t._v(" 登入 ")])],1)])])},n=[],r=(a("a4d3"),a("4de4"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("ade3")),s=a("2f62");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l={data:function(){return{}},computed:o({},Object(s["b"])({apiMsg:function(t){return t.auth.apiMsg}}),{currenentUserEmail:function(){if(this.$store.state.auth.currentUser){var t=this.$store.state.auth.currentUser.email;return"".concat(t," 你好")}return"登入"},isSignedIn:function(){return null!=this.$store.state.auth.currentUser}}),watch:{apiMsg:function(){this.$message({message:this.apiMsg.message,type:"success"})}},methods:{clickMenu:function(t){this.$router.push(t)},onSignOut:function(){var t=this;this.$store.dispatch("auth/signout").then((function(){"/index"!==t.$route.path&&t.$router.push({path:"/index"})}))}}},u=l,d=(a("21cc"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,"4422b802",null);e["default"]=p.exports},"81c5":function(t,e,a){},"90ed":function(t,e,a){"use strict";var i=a("3336"),n=a.n(i);n.a},"90fc":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"singelArtilce__page"},[a("BlogpostNavMenu"),a("article",{staticClass:"article__wrapper"},[a("h2",{staticClass:"article__title"},[t._v(t._s(t.article.title))]),a("div",{staticClass:"article__metadata"},[a("p",[t._v("分類："+t._s(t.article.categoryName))]),a("p",[t._v("發表/更新時間："+t._s(t.toLocaleDateTimeString(t.article.timestamp)))])]),a("div",{staticClass:"article__content__container ck-content",domProps:{innerHTML:t._s(t.article.content)}})])],1)},n=[],r=(a("4de4"),{data:function(){return{}},methods:{loadArticles:function(){this.$store.dispatch("article/loadArticles")},toLocaleDateTimeString:function(t){var e=new Date(t);return e.toLocaleDateString()+e.toLocaleTimeString()}},computed:{article:function(){var t=this,e=this.$store.state.article.articles.filter((function(e){return e.id===t.$route.params.articleId}));return e[0]}},mounted:function(){0===this.$store.state.article.articles.length&&this.loadArticles()}}),s=r,c=(a("bd3f"),a("2877")),o=Object(c["a"])(s,i,n,!1,null,"b0423910",null);e["default"]=o.exports},9357:function(t,e,a){},"9f05":function(t,e,a){},a073:function(t,e,a){"use strict";var i=a("81c5"),n=a.n(i);n.a},a6f3:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-menu",{attrs:{"default-active":"1","background-color":"#112233","text-color":"#fff","active-text-color":"#ffd04b"}},[a("div",{staticClass:"user__info"},[a("label",{staticClass:"label"}),a("span",{staticClass:"user__email"},[t._v(t._s(t.currenentUserEmail))])]),a("el-menu-item",{attrs:{index:"1"},nativeOn:{click:function(e){return t.clickMenu("article")}}},[a("i",{staticClass:"el-icon-menu"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("文章總覽")])]),a("el-menu-item",{attrs:{index:"2"},nativeOn:{click:function(e){return t.clickMenu("comment")}}},[a("i",{staticClass:"el-icon-document"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("留言")])]),a("el-menu-item",{attrs:{index:"3"},nativeOn:{click:function(e){return t.clickMenu("category")}}},[a("i",{staticClass:"el-icon-setting"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("分類")])]),a("el-menu-item",{attrs:{index:"4",disabled:""},nativeOn:{click:function(e){return t.clickMenu("auth")}}},[a("i",{staticClass:"el-icon-setting"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("權限管理")])]),a("el-menu-item",{attrs:{index:"5"},nativeOn:{click:function(e){return t.clickMenu("/index")}}},[a("i",{staticClass:"el-icon-setting"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("回到前台")])])],1)},n=[],r={data:function(){return{}},methods:{clickMenu:function(t){this.$router.push({path:t})}},computed:{currenentUserEmail:function(){return"帳戶 ".concat(this.$store.state.auth.currentUser.email)}}},s=r,c=(a("2377"),a("2877")),o=Object(c["a"])(s,i,n,!1,null,"e6b6bd96",null);e["default"]=o.exports},a9f1:function(t,e,a){},b601:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"header"},[a("p",[t._v("分類列表")])]),a("el-input",{staticClass:"category-input",attrs:{placeholder:"新增分類",maxlength:"10","show-word-limit":""},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),a("Button",{attrs:{label:t.isEditing?"更新名稱":"新增分類",size:"medium"},on:{click:t.onUpdateOrCreateCategory}}),a("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},t._l(t.categoryStatistics(t.categories,t.articles),(function(e,i){return a("el-collapse-item",{key:i,attrs:{name:i}},[a("template",{slot:"title"},[a("p",{staticClass:"category__title"},[t._v(" "+t._s(e.name)+" ("+t._s(e.count)+") ")]),a("i",{staticClass:"el-icon-delete",on:{click:function(a){return a.stopPropagation(),t.onClickDeleteCategory(e)}}}),a("i",{staticClass:"el-icon-edit-outline",on:{click:function(a){return a.stopPropagation(),t.onClickRenameCategory(e)}}})]),a("div",[e.articles?a("div",t._l(e.articles,(function(e,i){return a("p",{key:i,staticClass:"article__title"},[t._v(" "+t._s(e)+" ")])})),0):a("div",[t._v("尚無文章")])])],2)})),1)],1)],1)},n=[],r=(a("a4d3"),a("4de4"),a("b0c0"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("ade3")),s=a("2f62"),c=a("025e"),o=a.n(c);function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={data:function(){return{input:"",isEditing:!1,activeNames:["1"]}},methods:{categoryStatistics:o.a.categoryStatistics,onUpdateOrCreateCategory:function(t){var e=this;this.input?this.isEditing?this.$store.dispatch("category/renameCategory",{newName:this.input,categoryId:this.isEditing}).then((function(){e.$message({message:"已更新名稱！",type:"success"}),e.loadCategories()})).catch((function(t){e.$message({message:t.data.message,type:"warning"})})):this.$store.dispatch("category/createCategory",this.input).then((function(){e.$message({message:"您新增了分類：".concat(e.input),type:"success"}),e.input="",e.loadCategories()})).catch((function(t){e.$message({message:t.data.message,type:"warning"})})):this.$message({message:"未輸入名稱",type:"warning"})},onClickDeleteCategory:function(t){var e=this;t.count>=1?this.$message({message:"分類內有文章，請先更改文章類別，或者刪除文章！",type:"warning"}):this.$confirm("確定刪除「".concat(t.name,"」分類？"),"提示").then((function(){e.$store.dispatch("category/deleteCategory",t.id).then((function(){e.$message({message:"已刪除分類「".concat(t.name,"」！"),type:"success"}),e.loadCategories()})).catch((function(t){e.$message({message:t.data.message,type:"warning"})}))}))},onClickRenameCategory:function(t){this.isEditing=t.id,this.input=t.name},loadCategories:function(){this.$store.dispatch("category/getCategories")},loadArticles:function(){this.$store.dispatch("article/loadArticles")}},computed:u({},Object(s["b"])({categories:function(t){return t.category.categories},articles:function(t){return t.article.articles}})),mounted:function(){this.loadCategories(),this.loadArticles()}},p=d,f=(a("5eaf"),a("2877")),g=Object(f["a"])(p,i,n,!1,null,"58889d10",null);e["default"]=g.exports},bd3f:function(t,e,a){"use strict";var i=a("5b88"),n=a.n(i);n.a},c018:function(t,e,a){},c9c0:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboardArticleCard__wrapper"},t._l(t.articles,(function(e){return a("el-card",{key:e.id,staticClass:"box-card",class:{"is-editing":e.id==t.currentEditingArticleId},attrs:{shadow:"hover"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"header__title"},[t._v(t._s(e.title))]),a("Button",{attrs:{type:"plain",label:"編輯"},on:{click:function(a){return t.onUpdateArticle(e)}}}),a("Button",{attrs:{type:"plain",label:"刪除"},on:{click:function(a){return t.$emit("onDeleteArticle",e)}}})],1),a("div",{staticClass:"article-meta-data"},[a("span",[t._v("狀態："+t._s(t.toZh(e.status)))]),a("span",[t._v("類別："+t._s(e.categoryName||"沒有分類"))]),a("span",[t._v(t._s(t.toLocaleDateTimeString(e.timestamp)||"0000-00-00 00:00:00"))])]),a("div",{staticClass:"content",domProps:{innerHTML:t._s(e.content)}})])})),1)},n=[],r=(a("a4d3"),a("4de4"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("ade3")),s=a("2f62");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l=a("025e"),u={props:{articles:{type:Array,default:function(){return[]}},isShowCurrentEditing:{type:Boolean,default:!1}},data:function(){return{currentEditingArticleId:""}},computed:o({},Object(s["b"])(["category/categories"])),watch:{isShowCurrentEditing:function(){this.isShowCurrentEditing||(this.currentEditingArticleId="")}},methods:{toLocaleDateTimeString:l.toLocaleDateTimeString,onUpdateArticle:function(t){this.currentEditingArticleId=t.id,this.$emit("onUpdateArticle",t)},onClickArticle:function(t){this.$emit("onClickArticle",t)},toZh:function(t){switch(t){case"draft":return"草稿";case"public":return"公開";default:return"Sorry, we are out of ".concat(t,".")}}},mounted:function(){this.$store.dispatch("category/getCategories")}},d=u,p=(a("d454"),a("2877")),f=Object(p["a"])(d,i,n,!1,null,"36831f70",null);e["default"]=f.exports},d01b:function(t,e,a){},d35f:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},n=[],r={data:function(){return{}}},s=r,c=a("2877"),o=Object(c["a"])(s,i,n,!1,null,"cd0e76b4",null);e["default"]=o.exports},d454:function(t,e,a){"use strict";var i=a("75b7"),n=a.n(i);n.a},dbdc:function(t,e,a){var i=a("59ca");a("ea7b");var n={apiKey:"AIzaSyDG0OG5TUq6d17fRZ0il97vhPFfmBCs0pc",authDomain:"overture-1b7b5.firebaseapp.com",databaseURL:"https://overture-1b7b5.firebaseio.com",projectId:"overture-1b7b5",storageBucket:"overture-1b7b5.appspot.com",messagingSenderId:"659971003622",appId:"1:659971003622:web:88ad0ea7535dc698c85727"};i.initializeApp(n),t.exports=i},e717:function(t,e,a){"use strict";var i=a("9f05"),n=a.n(i);n.a},e946:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auth__wrapper"},[a("BlogpostNavMenu"),a("form",{staticClass:"form login__form"},[a("section",{staticClass:"form__title"},[t._v("登入")]),a("section",{staticClass:"form__body"},[a("el-input",{attrs:{type:"email",placeholder:"Email"},model:{value:t.signin.account,callback:function(e){t.$set(t.signin,"account",e)},expression:"signin.account"}}),a("el-input",{attrs:{"show-password":"",placeholder:"Password"},model:{value:t.signin.password,callback:function(e){t.$set(t.signin,"password",e)},expression:"signin.password"}}),a("el-button",{attrs:{type:"primary",loading:t.signin.loading},on:{click:t.onClickSignin}},[t._v(" 確定登入 ")])],1)])],1)},n=[],r=(a("a4d3"),a("4de4"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("ade3")),s=a("2f62");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l={data:function(){return{register:{account:"",password:"",loading:!1},signin:{account:"",password:"",loading:!1}}},computed:o({},Object(s["b"])({apiMsg:function(t){return t.auth.apiMsg},currentUser:function(t){return t.auth.currentUser}})),watch:{apiMsg:function(){"auth/register-success"===this.apiMsg.code?this.$message({message:this.apiMsg.data.message,type:"success"}):this.$message({message:"".concat(this.apiMsg.message),type:"warning"}),this.signin.loading=!1}},methods:{onClickRegister:function(){this.register.loading=!0,this.$store.dispatch("auth/register",{email:this.register.account,password:this.register.password})},onClickSignin:function(){var t=this;this.signin.loading=!0,this.$store.dispatch("auth/signin",{email:this.signin.account,password:this.signin.password}).then((function(e){e.user&&(t.$message({message:"以 ".concat(e.user.email," 身分登入"),type:"success"}),t.signin.loading=!1,t.$router.push({path:"/dashboard/article"}))})).catch((function(e){t.$message({message:e.message,type:"warning"}),t.signin.loading=!1}))}}},u=l,d=(a("f2ab"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,"5a7eed44",null);e["default"]=p.exports},f2ab:function(t,e,a){"use strict";var i=a("1d0d"),n=a.n(i);n.a},fdc6:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-aside",{attrs:{width:"200px"}},[a("DashboardNavMenu")],1),a("el-main",[a("router-view")],1)],1)},n=[],r={data:function(){return{}},mounted:function(){}},s=r,c=(a("5b22"),a("2877")),o=Object(c["a"])(s,i,n,!1,null,"14b05eb2",null);e["default"]=o.exports}});
//# sourceMappingURL=app.344a5e25.js.map