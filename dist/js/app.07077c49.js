(function(t){function e(e){for(var i,s,c=e[0],o=e[1],l=e[2],d=0,f=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&f.push(n[s][0]),n[s]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],i=!0,c=1;c<a.length;c++){var o=a[c];0!==n[o]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var i={},n={app:0},r=[];function s(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=i,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/overture-frontend/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"00ee6":function(t,e,a){"use strict";var i=a("2a97"),n=a.n(i);n.a},"025e":function(t,e,a){a("99af"),a("4de4"),a("b0c0"),a("b64b"),a("159b"),t.exports={toLocaleDateTimeString:function(t){var e=new Date(t);return"".concat(e.toLocaleDateString()," ").concat(e.toLocaleTimeString("it-IT"))},pagered:function(t,e,a){return t.filter((function(t,i){return i>=e*(a-1)&&i<=e*a-1}))},categoryStatistics:function(t,e){var a={num:{},which:{}};e.forEach((function(t){void 0===a.num[t.categoryName]?a.num[t.categoryName]=1:a.num[t.categoryName]+=1,void 0===a.which[t.categoryName]&&(a.which[t.categoryName]=[]),a.which[t.categoryName].push(t.title)}));var i=[];return Object.keys(t).forEach((function(e){i.push({id:t[e].id,name:t[e].name,count:a.num[t[e].name]||0,articles:a.which[t[e].name]})})),i}}},"1f39":function(t,e,a){"use strict";var i=a("5a86"),n=a.n(i);n.a},"213b":function(t,e,a){"use strict";var i=a("31f8"),n=a.n(i);n.a},2241:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",{staticClass:"logo__wrapper"},[a("router-link",{attrs:{tag:"span",to:"/index"}},[a("h1",{staticClass:"logo-main"},[t._v("OVERTURE")])]),a("p",{staticClass:"logo-slogan"},[t._v("Murmurs about web and life.")])],1)},n=[],r={data:function(){return{}}},s=r,c=(a("b605"),a("2877")),o=Object(c["a"])(s,i,n,!1,null,"a1bda00a",null);e["default"]=o.exports},"275f":function(t,e,a){},"2a7d":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-button",{attrs:{type:t.type,size:t.size},on:{click:function(e){return t.$emit("click")}}},[t._v(t._s(t.label)+" ")])},n=[],r={props:{label:{type:String,default:"確認"},type:{type:String,default:"primary"},size:{type:String,default:"mini"}},data:function(){return{}}},s=r,c=a("2877"),o=Object(c["a"])(s,i,n,!1,null,"52e989da",null);e["default"]=o.exports},"2a97":function(t,e,a){},"31f8":function(t,e,a){},"41c3":function(t,e,a){"use strict";var i=a("89da"),n=a.n(i);n.a},"41f6":function(t,e,a){"use strict";var i=a("880c"),n=a.n(i);n.a},"55a0":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("d3b7"),a("5319"),a("1276"),a("159b"),a("ddb0"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=a("5c96"),r=a.n(n),s=a("8c4f"),c=a("dbdc"),o=a.n(c);i["default"].use(s["a"]);var l=a("5dea").default,u=a("90fc").default,d=a("e946").default,f=a("fdc6").default,p=a("5c68").default,g=a("b601").default,h=o.a.auth(),m=function(t,e,a){var i=h.onAuthStateChanged((function(t){t?(a(),i()):(alert("請先登入 !"),window.location.href="/index")}))},v=new s["a"]({mode:"hash",routes:[{path:"/index",component:l},{path:"/blogpost/article/:articleId",component:u},{path:"/auth",component:d},{path:"/dashboard",component:f,beforeEnter:function(t,e,a){m(t,e,a)},children:[{path:"article",component:p},{path:"category",component:g}]},{path:"/",component:l}]}),b=a("2f62"),y=a("bc3a"),_=a.n(y),w=o.a.auth();i["default"].use(b["a"]);var O="https://overture-blog.herokuapp.com",C={namespaced:!0,state:{articles:[],editingArticleId:""},mutations:{setEditingArticleId:function(t,e){t.editingArticleId=e}},actions:{loadArticles:function(t){var e=t.state;_()({url:"".concat(O,"/article")}).then((function(t){e.articles=t.data}))},createArticle:function(t,e){return new Promise((function(t,a){_()({method:"post",url:"".concat(O,"/article"),data:{userAccount:w.currentUser.email,title:e.title,content:e.content,categoryId:e.categoryId,status:e.status,heroImageBase64:e.heroImageBase64,timestamp:(new Date).getTime()}}).then((function(e){t(e)})).catch((function(t){a(t.response)}))}))},updateArticle:function(t,e){return new Promise((function(t,a){_()({method:"put",url:"".concat(O,"/article/update"),data:{userAccount:w.currentUser.email,title:e.title,content:e.content,categoryId:e.categoryId,articleId:e.articleId,status:e.status,heroImageBase64:e.heroImageBase64,timestamp:(new Date).getTime()}}).then((function(e){t(e)})).catch((function(t){a(t.response)}))}))},deleteArticle:function(t,e){return new Promise((function(t,a){_()({method:"delete",url:"".concat(O,"/article/delete"),data:{userAccount:w.currentUser.email,id:e}}).then((function(e){t(e)})).catch((function(t){a(t.response)}))}))}}},k={namespaced:!0,state:{categories:[]},actions:{getCategories:function(t){var e=t.state;_()({url:"".concat(O,"/category")}).then((function(t){e.categories=t.data}))},createCategory:function(t,e){t.state;return new Promise((function(t,a){_()({method:"post",url:"".concat(O,"/category"),data:{userAccount:w.currentUser.email,name:e}}).then((function(e){t(e)})).catch((function(t){a(t.response)}))}))},deleteCategory:function(t,e){t.state;return new Promise((function(t,a){_()({method:"delete",url:"".concat(O,"/category/delete"),data:{userAccount:w.currentUser.email,categoryId:e}}).then((function(e){t(e)})).catch((function(t){a(t.response)}))}))},renameCategory:function(t,e){t.state;return new Promise((function(t,a){_()({method:"put",url:"".concat(O,"/category/rename"),data:{userAccount:w.currentUser.email,categoryId:e.categoryId,categoryName:e.newName}}).then((function(e){t(e)})).catch((function(t){a(t.response)}))}))}}},j={namespaced:!0},$={namespaced:!0,state:{currentUser:null,apiMsg:{}},actions:{register:function(t,e){t.state;var a=e.email,i=e.password;w.createUserWithEmailAndPassword(a,i).then((function(t){})).catch((function(t){}))},signin:function(t,e){var a=t.state,i=e.email,n=e.password;return new Promise((function(t,e){w.signInWithEmailAndPassword(i,n).then((function(e){a.currentUser=e.user,t(e)})).catch((function(t){e(t)}))}))},signout:function(t){var e=t.state;w.signOut().then((function(){e.apiMsg={code:"auth/logout-success",message:"已登出。"},e.currentUser=null})).catch((function(t){e.apiMsg=t}))}}},D={namespaced:!0},A={namespaced:!0,state:{articlesPerPage:2}},S=new b["a"].Store({modules:{article:C,category:k,comment:j,auth:$,ckEditor:D,other:A}}),x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("keep-alive",[a("transition",{attrs:{name:"fade"}},[a("router-view")],1)],1)],1)},P=[],E={name:"app",components:{},mounted:function(){}},I=E,U=(a("880a"),a("2877")),M=Object(U["a"])(I,x,P,!1,null,"462efb04",null),L=M.exports;a("275f"),a("e5fc"),a("d0f7");i["default"].use(r.a);var T=a("6809");T.keys().forEach((function(t){var e=T(t),a=t.replace(".vue","").split("/"),n=a[a.length-1];i["default"].component(n,e.default||e)})),i["default"].config.productionTip=!1;var N=o.a.auth();N.onAuthStateChanged((function(t){t&&(S.state.auth.currentUser=t)})),new i["default"]({router:v,store:S,render:function(t){return t(L)}}).$mount("#app")},"5a86":function(t,e,a){},"5b22":function(t,e,a){"use strict";var i=a("6707"),n=a.n(i);n.a},"5c68":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"header"},[a("p",[t._v("文章列表")]),a("el-button",{attrs:{size:"mini",type:"primary",round:""},on:{click:t.resetEditor}},[t._v("新增")])],1),a("DashboardArticleCards",{directives:[{name:"loading",rawName:"v-loading",value:t.articles.length<1,expression:"articles.length < 1"}],attrs:{articles:t.articles,"element-loading-text":"載入文章中","element-loading-background":"rgba(255, 255, 255, 0.8)"},on:{onUpdateArticle:t.setEditorData,onDeleteArticle:t.onDeleteArticle}})],1),a("el-col",{staticStyle:{"padding-bottom":"20px"},attrs:{span:14}},[a("div",{staticClass:"header"},[a("p",[t._v(t._s(t.isUpdate?"更新文章":"新增文章"))]),a("div",{staticClass:"header__right"},[a("el-switch",{attrs:{"active-text":"自動儲存",disabled:"public"===t.editorData.status},model:{value:t.isEditorAutoSave,callback:function(e){t.isEditorAutoSave=e},expression:"isEditorAutoSave"}})],1)]),a("div",{staticClass:"article__editor__wrapper"},[a("el-form",{attrs:{"label-position":"left","label-width":"80px"}},[a("el-form-item",{attrs:{label:"文章標題"}},[a("el-input",{attrs:{label:"title",maxlength:"40","show-word-limit":""},model:{value:t.editorData.title,callback:function(e){t.$set(t.editorData,"title",e)},expression:"editorData.title"}})],1)],1),a("el-form",{attrs:{"label-position":"left","label-width":"80px",inline:""}},[a("el-form-item",{attrs:{label:"文章分類"}},[a("el-select",{attrs:{placeholder:"文章分類"},model:{value:t.editorData.categoryId,callback:function(e){t.$set(t.editorData,"categoryId",e)},expression:"editorData.categoryId"}},t._l(t.categories,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"文章狀態"}},[a("el-select",{attrs:{placeholder:"狀態"},model:{value:t.editorData.status,callback:function(e){t.$set(t.editorData,"status",e)},expression:"editorData.status"}},[a("el-option",{key:"draft",attrs:{label:"草稿",value:"draft"}}),a("el-option",{key:"public",attrs:{label:"公開",value:"public"}})],1)],1),a("el-form-item",{staticClass:"hero-image-form-item",attrs:{label:"文章首圖"}},[a("input",{attrs:{type:"file",id:"hero-image-input",hidden:""},on:{change:t.onSelectFile}}),a("label",{staticClass:"hero-image-input-label",attrs:{for:"hero-image-input"}},[t._v("選擇檔案")]),a("el-button",{attrs:{type:"text",disabled:!t.editorData.heroImageBase64},on:{click:function(e){t.isShowHeroImagePop=!0}}},[t._v("查看首圖")])],1)],1),a("ckeditor",{attrs:{editor:t.editor,config:t.editorConfig},model:{value:t.editorData.content,callback:function(e){t.$set(t.editorData,"content",e)},expression:"editorData.content"}}),a("div",{staticClass:"article-editer-action-bar"},[a("p",{staticClass:"text"},[t._v(t._s(t.isEditorAutoSave?t.autoSaveStatusText:""))]),a("el-button",{attrs:{size:"mini",type:"primary",disabled:t.isEditorAutoSave},on:{click:t.onClickUpdateOrCreateArticle}},[t._v(" "+t._s(t.isUpdate?"更新":"新增")+" ")])],1)],1),a("el-dialog",{attrs:{title:"文章首圖",visible:t.isShowHeroImagePop,width:"30%"},on:{"update:visible":function(e){t.isShowHeroImagePop=e}}},[a("img",{staticClass:"hero-image",attrs:{src:t.editorData.heroImageBase64}})])],1)],1)},n=[],r=(a("7db0"),a("d3b7"),a("159b"),a("fb3d")),s=a.n(r),c=a("3730"),o=a.n(c),l={components:{ckeditor:o.a.component},data:function(){return{isUpdate:!1,isShowHeroImagePop:!1,autoSaveStatusText:"...等待中",isEditorAutoSave:!1,editor:s.a,editorConfig:{toolbar:["heading","|","bold","italic","link","bulletedList","numberedList","blockQuote"]},editorData:{title:"",content:"",categoryId:"",articleId:"",status:"draft",heroImageBase64:""},timer:[]}},methods:{onSelectFile:function(t){var e=this,a=t.target.files[0];new Promise((function(t){var e=new FileReader;e.readAsDataURL(a),e.onload=function(){t(e.result)}})).then((function(t){e.editorData.heroImageBase64=t}))},loadArticles:function(){this.$store.dispatch("article/loadArticles")},setEditorData:function(t){this.isUpdate=!0;var e=this.articles.find((function(e){return e.id===t}));this.editorData.title=e.title,this.editorData.content=e.content,this.editorData.categoryId=e.categoryId,this.editorData.articleId=e.id,this.editorData.status=e.status,this.editorData.heroImageBase64=e.heroImageBase64},onClickUpdateOrCreateArticle:function(){this.checkArticleForm()?this.isUpdate?this.updateArticle():this.createArticle():this.$message({message:"名稱、分類、內容為必填",type:"warning"})},updateArticle:function(){var t=this;this.$store.dispatch("article/updateArticle",this.editorData).then((function(){t.isEditorAutoSave?(t.autoSaveStatusText="文章已儲存 : )",setTimeout((function(){t.autoSaveStatusText="...等待中"}),5e3)):t.$message({message:"您更新了文章：".concat(t.editorData.title),type:"success"}),t.loadArticles()})).catch((function(e){t.$message({message:e.data.message,type:"warning"})}))},createArticle:function(){var t=this;this.$store.dispatch("article/createArticle",this.editorData).then((function(){t.$message({message:"您新增了文章：".concat(t.editorData.title),type:"success"}),t.resetEditor(),t.loadArticles()})).catch((function(e){t.$message({message:e.data.message,type:"warning"})}))},onDeleteArticle:function(t){var e=this;this.$confirm("確定刪除「".concat(t.title,"」？"),"提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$store.dispatch("article/deleteArticle",t.id).then((function(){e.$message({type:"success",message:"删除成功!"}),e.$store.dispatch("article/loadArticles")})).catch((function(t){e.$message({message:t.data.message,type:"warning"})}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},checkArticleForm:function(){var t=this.editorData;return!!(t.title&&t.content&&t.categoryId)},resetEditor:function(){this.isUpdate=!1,this.editorData.content="",this.editorData.title="",this.editorData.content="",this.editorData.categoryId="",this.editorData.heroImageBase64="",this.$store.commit("article/setEditingArticleId","")}},watch:{"editorData.status":{immediate:!1,handler:function(t){"draft"===t&&(this.isEditorAutoSave=!0),"public"===t&&(this.isEditorAutoSave=!1)}},isEditorAutoSave:{immediate:!0,handler:function(t){var e=this;t?0===this.timer.length&&this.timer.push(setInterval((function(){e.autoSaveStatusText="...文章儲存中",e.updateArticle()}),1e4)):(this.timer.forEach((function(t){clearInterval(t)})),this.timer=[])}}},computed:{articles:function(){return this.$store.state.article.articles},categories:function(){var t=this.$store.state.category.categories;return t}},mounted:function(){var t=this;this.loadArticles(),this.$store.dispatch("category/getCategories"),setTimeout((function(){var e=t.$store.state.article.editingArticleId;""!==e&&t.setEditorData(e)}),0)}},u=l,d=(a("41c3"),a("2877")),f=Object(d["a"])(u,i,n,!1,null,"2acab539",null);e["default"]=f.exports},"5dea":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index__warpper"},[a("BlogpostNavMenu"),a("landingContent")],1)},n=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"body"},[a("div",{staticClass:"content"},[a("el-row",{attrs:{gutter:40}},[a("el-col",{staticClass:"articles-area",attrs:{span:17}},[a("el-pagination",{attrs:{layout:"prev, pager, next",total:t.displayedArticle.length,"hide-on-single-page":!1,"current-page":t.cp,"page-size":t.app,small:""},on:{"update:currentPage":function(e){t.cp=e},"update:current-page":function(e){t.cp=e}}}),a("section",{directives:[{name:"loading",rawName:"v-loading",value:t.displayedArticle.length<1,expression:"displayedArticle.length < 1"}],staticClass:"el-cards__wrapper",attrs:{"element-loading-background":"transparent","element-loading-text":"載入文章中"}},t._l(t.pageredArticles(t.displayedArticle,t.app,t.cp),(function(e){return a("el-card",{key:e.id,staticClass:"article__item",attrs:{"body-style":{padding:"0px"}},nativeOn:{click:function(a){return t.onClickArticle(e.id)}}},[a("div",{staticClass:"article__image",style:{"background-image":"url('"+e.heroImageBase64+"')"}},[a("img",{directives:[{name:"show",rawName:"v-show",value:!e.heroImageBase64,expression:"!a.heroImageBase64"}],attrs:{src:"https://picsum.photos/id/835/400/400"}})]),a("div",{staticClass:"article__body"},[a("div",{staticClass:"article__body__title"},[t._v(t._s(e.title))]),a("span",{staticClass:"category"},[t._v(t._s(e.categoryName))]),a("time",{staticClass:"time"},[t._v(t._s(t.toLocaleDateTimeString(e.timestamp)))]),a("el-button",{attrs:{type:"text"}},[t._v("More...")])],1)])})),1)],1),a("el-col",{staticClass:"metadata-area",attrs:{span:7}},[a("section",{staticClass:"metadata-area-section"},[a("p",{staticClass:"title"},[t._v("文章分類")]),t._l(t.categoryStatistics(t.categories,t.articles),(function(e){return a("el-tag",{key:e.id,attrs:{effect:t.activatedCategory===e.id?"dark":"light"},on:{click:function(a){return t.onClickCategory(e.id)}}},[t._v(" "+t._s(e.name)+" ("+t._s(e.count)+") ")])})),a("el-tag",{attrs:{effect:"all"===t.activatedCategory?"dark":"light"},on:{click:function(e){return t.onClickCategory("all")}}},[t._v("全部 ("+t._s(t.articles.length)+")")])],2)])],1)],1)])},s=[],c=(a("a4d3"),a("4de4"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("ade3")),o=a("2f62"),l=a("025e"),u=a.n(l);function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){Object(c["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={data:function(){return{cp:1,app:4,activatedCategory:"-LwD2YYmoTQaJ8dw5dsE"}},methods:{toLocaleDateTimeString:u.a.toLocaleDateTimeString,pageredArticles:u.a.pagered,categoryStatistics:u.a.categoryStatistics,loadCategories:function(){this.$store.dispatch("category/getCategories")},loadArticles:function(){this.$store.dispatch("article/loadArticles")},onClickArticle:function(t){this.$router.push({path:"/blogpost/article/".concat(t)})},onClickCategory:function(t){this.activatedCategory=t}},computed:f({},Object(o["b"])({categories:function(t){return t.category.categories}}),{articles:function(){return this.$store.state.article.articles.filter((function(t){return"public"===t.status}))},displayedArticle:function(){var t=this;return"all"===this.activatedCategory?this.articles:this.articles.filter((function(e){return t.activatedCategory===e.categoryId}))}}),mounted:function(){this.loadCategories(),this.loadArticles()}},g=p,h=(a("752e"),a("2877")),m=Object(h["a"])(g,r,s,!1,null,"1edbb19f",null),v=m.exports,b={components:{landingContent:v},data:function(){return{}}},y=b,_=(a("9598"),Object(h["a"])(y,i,n,!1,null,"5efe6358",null));e["default"]=_.exports},6707:function(t,e,a){},6809:function(t,e,a){var i={"./BlogpostNavMenu.vue":"7e84","./Button.vue":"2a7d","./DashboardArticleCards.vue":"c9c0","./DashboardNavMenu.vue":"a6f3","./Logo.vue":"2241","./Logout.vue":"9527"};function n(t){var e=r(t);return a(e)}function r(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=r,t.exports=n,n.id="6809"},"740a":function(t,e,a){"use strict";var i=a("f816"),n=a.n(i);n.a},"752e":function(t,e,a){"use strict";var i=a("55a0"),n=a.n(i);n.a},7623:function(t,e,a){},"7e84":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"nav"},[a("Logo"),a("div",{staticClass:"nav__item__wrapper"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isSignedIn,expression:"isSignedIn"}],staticClass:"nav__item"},[a("router-link",{staticClass:"link",attrs:{to:"/dashboard/article"}},[t._v(" "+t._s(t.currenentUserEmail)+" ")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isSignedIn,expression:"isSignedIn"}],staticClass:"nav__item"},[a("Logout")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isSignedIn,expression:"!isSignedIn"}],staticClass:"nav__item"},[a("router-link",{staticClass:"link",attrs:{to:"/auth"}},[t._v(" 登入 ")])],1)])],1)},n=[],r=(a("a4d3"),a("4de4"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("ade3")),s=a("2f62");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l={data:function(){return{}},computed:o({},Object(s["b"])({apiMsg:function(t){return t.auth.apiMsg}}),{currenentUserEmail:function(){if(this.$store.state.auth.currentUser){var t=this.$store.state.auth.currentUser.email;return"".concat(t," 你好")}return"登入"},isSignedIn:function(){return null!=this.$store.state.auth.currentUser}}),watch:{apiMsg:function(){this.$message({message:this.apiMsg.message,type:"success"})}},methods:{clickMenu:function(t){this.$router.push(t)}}},u=l,d=(a("41f6"),a("2877")),f=Object(d["a"])(u,i,n,!1,null,"c72d84c4",null);e["default"]=f.exports},"880a":function(t,e,a){"use strict";var i=a("f57b"),n=a.n(i);n.a},"880c":function(t,e,a){},"89da":function(t,e,a){},"90fc":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"singelArtilce__page"},[a("BlogpostNavMenu"),a("article",{staticClass:"article__wrapper"},[a("h2",{staticClass:"article__title"},[t._v(t._s(t.article.title))]),a("div",{staticClass:"article__metadata"},[a("p",[t._v("分類："+t._s(t.article.categoryName))]),a("p",[t._v("發表/更新時間："+t._s(t.toLocaleDateTimeString(t.article.timestamp)))]),t.isSignedIn?a("i",{staticClass:"el-icon-edit",on:{click:function(e){return t.onClickEdit(t.article.id)}}},[t._v(" 編輯文章 ")]):t._e()]),a("div",{staticClass:"article__content__container ck-content",domProps:{innerHTML:t._s(t.article.content)}})])],1)},n=[],r=(a("4de4"),a("025e")),s={data:function(){return{}},methods:{toLocaleDateTimeString:r.toLocaleDateTimeString,loadArticles:function(){this.$store.dispatch("article/loadArticles")},onClickEdit:function(t){this.$store.commit("article/setEditingArticleId",t),this.$router.push({path:"/dashboard/article/",id:t})}},computed:{article:function(){var t=this,e=this.$store.state.article.articles.filter((function(e){return e.id===t.$route.params.articleId}));return e[0]},isSignedIn:function(){return null!=this.$store.state.auth.currentUser}},mounted:function(){0===this.$store.state.article.articles.length&&this.loadArticles()}},c=s,o=(a("00ee6"),a("2877")),l=Object(o["a"])(c,i,n,!1,null,"5a09b2b7",null);e["default"]=l.exports},9527:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("i",{staticClass:"link el-icon-switch-button",on:{click:t.onSignOut}},[t._v(" 登出 ")])},n=[],r={data:function(){return{}},methods:{onSignOut:function(){var t=this;this.$store.dispatch("auth/signout").then((function(){"/index"!==t.$route.path&&t.$router.push({path:"/index"})}))}}},s=r,c=(a("fd91"),a("2877")),o=Object(c["a"])(s,i,n,!1,null,"73d9b2c2",null);e["default"]=o.exports},9598:function(t,e,a){"use strict";var i=a("7623"),n=a.n(i);n.a},a6f3:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-menu",{attrs:{"default-active":"article-management","background-color":"#112233","text-color":"#fff","active-text-color":"#ffd04b"}},[a("Logo"),a("div",{staticClass:"user__info"},[a("label",{staticClass:"label"}),a("span",{staticClass:"user__email"},[t._v(t._s(t.currenentUserEmail))]),a("Logout")],1),a("el-menu-item",{attrs:{index:"article-management"},nativeOn:{click:function(e){return t.clickMenu("article")}}},[a("i",{staticClass:"el-icon-menu"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("文章總覽")])]),a("el-menu-item",{attrs:{index:"category-management"},nativeOn:{click:function(e){return t.clickMenu("category")}}},[a("i",{staticClass:"el-icon-setting"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("分類")])]),a("el-menu-item",{attrs:{index:"back-to-blogpost"},nativeOn:{click:function(e){return t.clickMenu("/index")}}},[a("i",{staticClass:"el-icon-setting"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("回到前台")])])],1)},n=[],r={data:function(){return{}},methods:{clickMenu:function(t){this.$router.push({path:t})}},computed:{currenentUserEmail:function(){return this.$store.state.auth.currentUser.email}}},s=r,c=(a("1f39"),a("2877")),o=Object(c["a"])(s,i,n,!1,null,"3b67b2bc",null);e["default"]=o.exports},a966:function(t,e,a){"use strict";var i=a("f8a5"),n=a.n(i);n.a},b601:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"header"},[a("p",[t._v("分類列表")])]),a("el-input",{staticClass:"category-input",attrs:{placeholder:"新增分類",maxlength:"10","show-word-limit":""},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),a("Button",{attrs:{label:t.isEditing?"更新名稱":"新增分類",size:"medium"},on:{click:t.onUpdateOrCreateCategory}}),a("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},t._l(t.categoryStatistics(t.categories,t.articles),(function(e,i){return a("el-collapse-item",{key:i,attrs:{name:i}},[a("template",{slot:"title"},[a("p",{staticClass:"category__title"},[t._v(" "+t._s(e.name)+" ("+t._s(e.count)+") ")]),a("i",{staticClass:"el-icon-delete",on:{click:function(a){return a.stopPropagation(),t.onClickDeleteCategory(e)}}}),a("i",{staticClass:"el-icon-edit-outline",on:{click:function(a){return a.stopPropagation(),t.onClickRenameCategory(e)}}})]),a("div",[e.articles?a("div",t._l(e.articles,(function(e,i){return a("p",{key:i,staticClass:"article__title"},[t._v(" "+t._s(e)+" ")])})),0):a("div",[t._v("尚無文章")])])],2)})),1)],1)],1)},n=[],r=(a("a4d3"),a("4de4"),a("b0c0"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("ade3")),s=a("2f62"),c=a("025e"),o=a.n(c);function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={data:function(){return{input:"",isEditing:!1,activeNames:["1"]}},methods:{categoryStatistics:o.a.categoryStatistics,onUpdateOrCreateCategory:function(t){var e=this;this.input?this.isEditing?this.$store.dispatch("category/renameCategory",{newName:this.input,categoryId:this.isEditing}).then((function(){e.$message({message:"已更新名稱！",type:"success"}),e.loadCategories()})).catch((function(t){e.$message({message:t.data.message,type:"warning"})})):this.$store.dispatch("category/createCategory",this.input).then((function(){e.$message({message:"您新增了分類：".concat(e.input),type:"success"}),e.input="",e.loadCategories()})).catch((function(t){e.$message({message:t.data.message,type:"warning"})})):this.$message({message:"未輸入名稱",type:"warning"})},onClickDeleteCategory:function(t){var e=this;t.count>=1?this.$message({message:"分類內有文章，請先更改文章類別，或者刪除文章！",type:"warning"}):this.$confirm("確定刪除「".concat(t.name,"」分類？"),"提示").then((function(){e.$store.dispatch("category/deleteCategory",t.id).then((function(){e.$message({message:"已刪除分類「".concat(t.name,"」！"),type:"success"}),e.loadCategories()})).catch((function(t){e.$message({message:t.data.message,type:"warning"})}))}))},onClickRenameCategory:function(t){this.isEditing=t.id,this.input=t.name},loadCategories:function(){this.$store.dispatch("category/getCategories")},loadArticles:function(){this.$store.dispatch("article/loadArticles")}},computed:u({},Object(s["b"])({categories:function(t){return t.category.categories},articles:function(t){return t.article.articles}})),mounted:function(){this.loadCategories(),this.loadArticles()}},f=d,p=(a("213b"),a("2877")),g=Object(p["a"])(f,i,n,!1,null,"0dd428d8",null);e["default"]=g.exports},b605:function(t,e,a){"use strict";var i=a("dfc2"),n=a.n(i);n.a},c9c0:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboardArticleCard__wrapper"},t._l(t.articles,(function(e){return a("el-card",{key:e.id,staticClass:"box-card",class:{"is-editing":e.id==t.$store.state.article.editingArticleId},attrs:{shadow:"hover"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"header__title"},[t._v(t._s(e.title))]),a("Button",{attrs:{type:"plain",label:"編輯"},on:{click:function(a){return t.onUpdateArticle(e.id)}}}),a("Button",{attrs:{type:"plain",label:"刪除"},on:{click:function(a){return t.$emit("onDeleteArticle",e)}}})],1),a("div",{staticClass:"article-meta-data"},[a("span",[t._v("狀態："+t._s(t.toZh(e.status)))]),a("span",[t._v("類別："+t._s(e.categoryName||"沒有分類"))]),a("span",[t._v(t._s(t.toLocaleDateTimeString(e.timestamp)||"0000-00-00 00:00:00"))])]),a("div",{staticClass:"content",domProps:{innerHTML:t._s(e.content)}})])})),1)},n=[],r=(a("a4d3"),a("4de4"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("ade3")),s=a("2f62");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l=a("025e"),u={props:{articles:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:o({},Object(s["b"])(["category/categories"])),methods:{toLocaleDateTimeString:l.toLocaleDateTimeString,onUpdateArticle:function(t){this.$store.commit("article/setEditingArticleId",t),this.$emit("onUpdateArticle",t)},onClickArticle:function(t){this.$emit("onClickArticle",t)},toZh:function(t){switch(t){case"draft":return"草稿";case"public":return"公開";default:return"Sorry, we are out of ".concat(t,".")}}},mounted:function(){this.$store.dispatch("category/getCategories")}},d=u,f=(a("a966"),a("2877")),p=Object(f["a"])(d,i,n,!1,null,"50f53fa6",null);e["default"]=p.exports},d0f7:function(t,e,a){},d76f:function(t,e,a){},dbdc:function(t,e,a){var i=a("59ca");a("ea7b");var n={apiKey:"AIzaSyDG0OG5TUq6d17fRZ0il97vhPFfmBCs0pc",authDomain:"overture-1b7b5.firebaseapp.com",databaseURL:"https://overture-1b7b5.firebaseio.com",projectId:"overture-1b7b5",storageBucket:"overture-1b7b5.appspot.com",messagingSenderId:"659971003622",appId:"1:659971003622:web:88ad0ea7535dc698c85727"};i.initializeApp(n),t.exports=i},dfc2:function(t,e,a){},e5fc:function(t,e,a){},e946:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auth__wrapper"},[a("BlogpostNavMenu"),a("form",{staticClass:"form login__form"},[a("section",{staticClass:"form__title"},[t._v("登入")]),a("section",{staticClass:"form__body"},[a("el-input",{attrs:{type:"email",placeholder:"Email"},model:{value:t.signin.account,callback:function(e){t.$set(t.signin,"account",e)},expression:"signin.account"}}),a("el-input",{attrs:{"show-password":"",placeholder:"Password"},model:{value:t.signin.password,callback:function(e){t.$set(t.signin,"password",e)},expression:"signin.password"}}),a("el-button",{attrs:{type:"primary",loading:t.signin.generalLoading},on:{click:function(e){return t.onClickSignin("admin")}}},[t._v(" 確定登入 ")])],1)]),a("p",{staticClass:"guidance"},[t._v("或")]),a("div",[a("el-button",{attrs:{slot:"reference",type:"primary",plain:"",loading:t.signin.guestLoading},on:{click:function(e){return t.onClickSignin("guest")}},slot:"reference"},[t._v(" 以訪客登入 ")]),a("el-tooltip",{attrs:{effect:"dark",content:"僅有瀏覽無編輯權限",placement:"right"}},[a("i",{staticClass:"el-icon-warning-outline"})])],1)],1)},n=[],r=(a("a4d3"),a("4de4"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("ade3")),s=a("2f62");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l={data:function(){return{register:{account:"",password:"",loading:!1},signin:{account:"",password:"",generalLoading:!1,guestLoading:!1}}},computed:o({},Object(s["b"])({apiMsg:function(t){return t.auth.apiMsg},currentUser:function(t){return t.auth.currentUser}})),watch:{apiMsg:function(){"auth/register-success"===this.apiMsg.code?this.$message({message:this.apiMsg.data.message,type:"success"}):this.$message({message:"".concat(this.apiMsg.message),type:"warning"}),this.signin.loading=!1}},methods:{onClickRegister:function(){this.register.loading=!0,this.$store.dispatch("auth/register",{email:this.register.account,password:this.register.password})},onClickSignin:function(t){var e=this;this.signin["".concat(t,"Loading")]=!0;var a="admin"===t;this.$store.dispatch("auth/signin",{email:a?this.signin.account:"guest@gmail.com",password:a?this.signin.password:"123456"}).then((function(a){a.user&&(e.$message({message:"以 ".concat(a.user.email," 身分登入"),type:"success"}),e.signin["".concat(t,"Loading")]=!1,e.$router.push({path:"/dashboard/article"}))})).catch((function(t){e.$message({message:t.message,type:"warning"}),e.signin.loading=!1}))}}},u=l,d=(a("740a"),a("2877")),f=Object(d["a"])(u,i,n,!1,null,"02fbe2c6",null);e["default"]=f.exports},f57b:function(t,e,a){},f816:function(t,e,a){},f8a5:function(t,e,a){},fd91:function(t,e,a){"use strict";var i=a("d76f"),n=a.n(i);n.a},fdc6:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-aside",{attrs:{width:"200px"}},[a("DashboardNavMenu")],1),a("el-main",[a("router-view")],1)],1)},n=[],r={data:function(){return{}},mounted:function(){}},s=r,c=(a("5b22"),a("2877")),o=Object(c["a"])(s,i,n,!1,null,"14b05eb2",null);e["default"]=o.exports}});
//# sourceMappingURL=app.07077c49.js.map